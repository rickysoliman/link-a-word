<div class="game-menu" *ngIf="!hasGameStarted && !showGameOverScreen">
  <ng-container *ngTemplateOutlet="showRules ? gameRules : gameMenu"></ng-container>
</div>

<ng-template #gameMenu>
  <h1 class="header-title">Link-A-Word</h1>
  <div class="intro-text">
    <div class="intro-header">{{ introText }}</div>
    <a href="#" class="show-rules" (click)="displayRules()">Rules</a>
  </div>
  <button class="button-success" (click)="playAgain()">START GAME</button>
</ng-template>

<ng-template #gameRules>
  <div class="game-rules">
    <a class="back-button" href="#" (click)="hideRules()">&#8592;</a>
    <h1 class="header-title rules">Rules</h1>
    <ul class="rules-list">
      <li class="rule" *ngFor="let rule of rules">{{ rule }}</li>
    </ul>
  </div>
  <div class="point-system">
    <h1 class="header-title point-system">Point System</h1>
    <h3 class="header-subtitle">The least common letters in the English language are worth the most points.</h3>
    <ul class="point-system-list">
      <li class="letter" *ngFor="let letter of alphabet">
        <span class="letter-text">{{ letter }} .......... {{ letterPoints[letter] }}</span>
      </li>
    </ul>
  </div>
</ng-template>

<div class="game-over" *ngIf="showGameOverScreen">
  <h1>GAME OVER</h1>
  <h2>Final Score:</h2>
  <h3>Chain Length: {{ wordChain.length }}</h3>
  <h3 *ngIf="score <= highScore">Score: {{ score.toLocaleString() }}</h3>
  <h3 class="high-score" *ngIf="score > highScore && showGameOverScreen">NEW HIGH SCORE! {{ score.toLocaleString() }}</h3>
  <div class="post-game-buttons">
    <button class="button-success" (click)="playAgain()">PLAY AGAIN?</button>
    <button class="button-quit" (click)="quit()">QUIT</button>
  </div>
</div>

<div class="game-wrapper" *ngIf="hasGameStarted">
  <div *ngIf="highScore > 0" class="high-score">High Score: {{ highScore.toLocaleString() }}</div>
  <div class="header">
    <div class="header-chain-length">Chain Length: {{ wordChain.length }}</div>
    <h1 class="header-title">Link-A-Word</h1>
    <div class="header-score">Score: {{ score.toLocaleString() }}</div>
    <app-timer (timerFinished)="handleTimerFinished()"></app-timer>
  </div>
  <div class="next-letter">{{ nextLetter }}</div>
  <input
    #inputField
    type="text" 
    class="user-input" 
    (input)="onInput($event)"
    (keydown.enter)="onSubmit()"
    [(ngModel)]="userInput"
    [style.color]="userInputColor"
    [placeholder]="nextLetter"
  >
  <div class="word-chain">
    <div class="word-chain-row" *ngFor="let word of wordChain">
      <div class="word-chain-link">
        {{ word }}   &rarr;
      </div>
    </div>
  </div>
</div>
